@echo off
chcp 65001 >nul
echo ====================================
echo   üßπ Docker Cleanup - Chapter 17
echo ====================================
echo.
echo ‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–±—Ä–∞–∑—ã –∏ volumes!
echo.
set /p confirm="–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/n): "

if /i not "%confirm%"=="y" (
    echo –û—Ç–º–µ–Ω–µ–Ω–æ.
    pause
    exit /b 0
)

echo.
echo [1/4] –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤...
docker-compose down -v
echo ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

echo.
echo [2/4] –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞...
docker rmi carfrontend 2>nul
echo ‚úÖ –û–±—Ä–∞–∑—ã —É–¥–∞–ª–µ–Ω—ã

echo.
echo [3/4] –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤...
docker system prune -f
echo ‚úÖ –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã –æ—á–∏—â–µ–Ω—ã

echo.
echo [4/4] –û—á–∏—Å—Ç–∫–∞ volumes...
docker volume prune -f
echo ‚úÖ Volumes –æ—á–∏—â–µ–Ω—ã

echo.
echo ====================================
echo   ‚úÖ –û–ß–ò–°–¢–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê!
echo ====================================
echo.
pause
exit /b 0


